(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{28165:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/violations",function(){return s(10393)}])},10393:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return violations}});var l=s(85893),a=s(67294),n=s(5121),i=s(83454);let r=n.Z.create({baseURL:i.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8080/api"});var violations=()=>{let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)("all"),[i,x]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let fetchData=async()=>{try{let e="all"!==s?{severity:s}:{},l=await r.get("/findings",{params:e});t(l.data)}catch(e){console.error("Failed to fetch findings")}x(!1)};fetchData()},[s]),(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("nav",{className:"bg-white shadow",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-blue-600",children:"Cloud Compliance Scanner"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("a",{href:"/",className:"text-gray-700 hover:text-blue-600",children:"Dashboard"}),(0,l.jsx)("a",{href:"/violations",className:"text-gray-700 hover:text-blue-600",children:"Violations"})]})]})})}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Violations Explorer"}),(0,l.jsxs)("div",{className:"bg-white p-4 rounded shadow mb-6 flex space-x-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search resources...",className:"flex-1 border border-gray-300 rounded px-3 py-2"}),(0,l.jsxs)("select",{value:s,onChange:e=>n(e.target.value),className:"border border-gray-300 rounded px-3 py-2",children:[(0,l.jsx)("option",{value:"all",children:"All Severities"}),(0,l.jsx)("option",{value:"high",children:"High"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"low",children:"Low"})]})]}),i?(0,l.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Loading findings..."}):0===e.length?(0,l.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No findings match your filter"}):(0,l.jsx)("div",{className:"bg-white rounded shadow overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-gray-100 border-b",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Resource"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Rule"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Severity"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Action"})]})}),(0,l.jsx)("tbody",{children:e.map((e,t)=>(0,l.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,l.jsxs)("td",{className:"px-6 py-4 text-sm",children:["Resource-",e.resource_id]}),(0,l.jsxs)("td",{className:"px-6 py-4 text-sm",children:["Rule-",e.rule_id]}),(0,l.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,l.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat("high"===e.severity?"bg-red-100 text-red-800":"medium"===e.severity?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.severity.toUpperCase()})}),(0,l.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,l.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs ".concat("open"===e.status?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"),children:e.status})}),(0,l.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,l.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Fix"})})]},e.id))})]})})]})]})}}},function(e){e.O(0,[774,192,888,179],function(){return e(e.s=28165)}),_N_E=e.O()}]);